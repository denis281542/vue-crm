{"remainingRequest":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\src\\views\\Categories.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\src\\views\\Categories.vue","mtime":1605931367922},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluL3BzZC92dWUtY3JtL3Z1ZS1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ2F0ZWdvcnlDcmVhdGUgZnJvbSAnQC9jb21wb25lbnRzL0NhdGVnb3J5Q3JlYXRlJzsKaW1wb3J0IENhdGVnb3J5RWRpdCBmcm9tICdAL2NvbXBvbmVudHMvQ2F0ZWdvcnlFZGl0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjYXRlZ29yaWVzJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcmllczogW10sCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHVwZGF0ZUNvdW50OiAwCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2ZldGNoQ2F0ZWdvcmllcycpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF90aGlzLmNhdGVnb3JpZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENhdGVnb3J5Q3JlYXRlOiBDYXRlZ29yeUNyZWF0ZSwKICAgIENhdGVnb3J5RWRpdDogQ2F0ZWdvcnlFZGl0CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGROZXdDYXRlZ29yeTogZnVuY3Rpb24gYWRkTmV3Q2F0ZWdvcnkoY2F0ZWdvcnkpIHsKICAgICAgdGhpcy5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpOwogICAgfSwKICAgIHVwZGF0ZUNhdGVnb3JpZXM6IGZ1bmN0aW9uIHVwZGF0ZUNhdGVnb3JpZXMoY2F0ZWdvcnkpIHsKICAgICAgdmFyIGlkeCA9IHRoaXMuY2F0ZWdvcmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5pZCA9PT0gY2F0ZWdvcnkuaWQ7CiAgICAgIH0pOwogICAgICB0aGlzLmNhdGVnb3JpZXNbaWR4XS50aXRsZSA9IGNhdGVnb3J5LnRpdGxlOwogICAgICB0aGlzLmNhdGVnb3JpZXNbaWR4XS5saW1pdCA9IGNhdGVnb3J5LmxpbWl0OwogICAgICB0aGlzLnVwZGF0ZUNvdW50Kys7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Categories.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,cAAA,MAAA,6BAAA;AACA,OAAA,YAAA,MAAA,2BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,WAAA,EAAA;AAHA,KAAA;AAAA,GAFA;AAOA,EAAA,OAPA,qBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,iBAAA,CADA;;AAAA;AACA,cAAA,KAAA,CAAA,UADA;AAEA,cAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,GAVA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA,cADA;AACA,IAAA,YAAA,EAAA;AADA,GAXA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,QADA,EACA;AACA,WAAA,UAAA,CAAA,IAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,gBAJA,4BAIA,QAJA,EAIA;AACA,UAAA,GAAA,GAAA,KAAA,UAAA,CAAA,SAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,EAAA,KAAA,QAAA,CAAA,EAAA;AAAA,OAAA,CAAA;AACA,WAAA,UAAA,CAAA,GAAA,EAAA,KAAA,GAAA,QAAA,CAAA,KAAA;AACA,WAAA,UAAA,CAAA,GAAA,EAAA,KAAA,GAAA,QAAA,CAAA,KAAA;AACA,WAAA,WAAA;AACA;AATA;AAdA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"page-title\">\n      <h3>Категории</h3>\n    </div>\n    <section>\n      <Loader v-if=\"loading\" />\n      <div class=\"row\" v-else>\n\n        <CategoryCreate @created=\"addNewCategory\" />\n\n        <CategoryEdit \n          :categories=\"categories\"\n          :key=\"categories.length + updateCount\"\n          @updated=\"updateCategories\"\n        />\n        \n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport CategoryCreate from '@/components/CategoryCreate'\nimport CategoryEdit from '@/components/CategoryEdit'\n\nexport default {\n  name: 'categories',\n  data: () => ({\n    categories: [],\n    loading: true,\n    updateCount: 0\n  }), \n  async mounted() {\n    this.categories = await this.$store.dispatch('fetchCategories')\n    this.loading = false\n  },\n  components: {\n    CategoryCreate, CategoryEdit \n  },\n  methods: {\n    addNewCategory(category) {\n      this.categories.push(category)\n    },\n    updateCategories(category) {\n      const idx = this.categories.findIndex(c => c.id === category.id)\n      this.categories[idx].title = category.title\n      this.categories[idx].limit = category.limit\n      this.updateCount++\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}