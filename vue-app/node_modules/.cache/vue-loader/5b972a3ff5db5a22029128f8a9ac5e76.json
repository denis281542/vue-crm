{"remainingRequest":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\src\\views\\Categories.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\src\\views\\Categories.vue","mtime":1605931367922},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXRlZ29yeUNyZWF0ZSBmcm9tICdAL2NvbXBvbmVudHMvQ2F0ZWdvcnlDcmVhdGUnCmltcG9ydCBDYXRlZ29yeUVkaXQgZnJvbSAnQC9jb21wb25lbnRzL0NhdGVnb3J5RWRpdCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY2F0ZWdvcmllcycsCiAgZGF0YTogKCkgPT4gKHsKICAgIGNhdGVnb3JpZXM6IFtdLAogICAgbG9hZGluZzogdHJ1ZSwKICAgIHVwZGF0ZUNvdW50OiAwCiAgfSksIAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNhdGVnb3JpZXMgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZmV0Y2hDYXRlZ29yaWVzJykKICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDYXRlZ29yeUNyZWF0ZSwgQ2F0ZWdvcnlFZGl0IAogIH0sCiAgbWV0aG9kczogewogICAgYWRkTmV3Q2F0ZWdvcnkoY2F0ZWdvcnkpIHsKICAgICAgdGhpcy5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpCiAgICB9LAogICAgdXBkYXRlQ2F0ZWdvcmllcyhjYXRlZ29yeSkgewogICAgICBjb25zdCBpZHggPSB0aGlzLmNhdGVnb3JpZXMuZmluZEluZGV4KGMgPT4gYy5pZCA9PT0gY2F0ZWdvcnkuaWQpCiAgICAgIHRoaXMuY2F0ZWdvcmllc1tpZHhdLnRpdGxlID0gY2F0ZWdvcnkudGl0bGUKICAgICAgdGhpcy5jYXRlZ29yaWVzW2lkeF0ubGltaXQgPSBjYXRlZ29yeS5saW1pdAogICAgICB0aGlzLnVwZGF0ZUNvdW50KysKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Categories.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Categories.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"page-title\">\n      <h3>Категории</h3>\n    </div>\n    <section>\n      <Loader v-if=\"loading\" />\n      <div class=\"row\" v-else>\n\n        <CategoryCreate @created=\"addNewCategory\" />\n\n        <CategoryEdit \n          :categories=\"categories\"\n          :key=\"categories.length + updateCount\"\n          @updated=\"updateCategories\"\n        />\n        \n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport CategoryCreate from '@/components/CategoryCreate'\nimport CategoryEdit from '@/components/CategoryEdit'\n\nexport default {\n  name: 'categories',\n  data: () => ({\n    categories: [],\n    loading: true,\n    updateCount: 0\n  }), \n  async mounted() {\n    this.categories = await this.$store.dispatch('fetchCategories')\n    this.loading = false\n  },\n  components: {\n    CategoryCreate, CategoryEdit \n  },\n  methods: {\n    addNewCategory(category) {\n      this.categories.push(category)\n    },\n    updateCategories(category) {\n      const idx = this.categories.findIndex(c => c.id === category.id)\n      this.categories[idx].title = category.title\n      this.categories[idx].limit = category.limit\n      this.updateCount++\n    }\n  }\n}\n</script>\n"]}]}