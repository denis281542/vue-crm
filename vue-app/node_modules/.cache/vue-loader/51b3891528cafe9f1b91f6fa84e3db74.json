{"remainingRequest":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\src\\components\\CategoryCreate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\src\\components\\CategoryCreate.vue","mtime":1605815128607},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Admin\\psd\\vue-crm\\vue-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7cmVxdWlyZWQsIG1pblZhbHVlfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogKCkgPT4gKHsKICAgIHRpdGxlOiAnJywKICAgIGxpbWl0OiAxMDAKICB9KSwKICB2YWxpZGF0aW9uczogewogICAgdGl0bGU6IHtyZXF1aXJlZH0sCiAgICBsaW1pdDoge21pblZhbHVlOiBtaW5WYWx1ZSgxMDApfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIE0udXBkYXRlVGV4dEZpZWxkcygpCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzdWJtaXRIYW5kbGVyKCkgewogICAgICBpZih0aGlzLiR2LiRpbnZhbGlkKSB7CiAgICAgICAgdGhpcy4kdi4kdG91Y2goKQogICAgICAgIHJldHVybgogICAgICB9CgogICAgICB0cnkgewogICAgICBjb25zdCBjYXRlZ29yeSA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjcmVhdGVDYXRlZ29yeScsIHsKICAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgICBsaW1pdDogdGhpcy5saW1pdCAgICAgICAgCiAgICAgIH0pCiAgICAgIHRoaXMudGl0bGUgPSAnJwogICAgICB0aGlzLmxpbWl0ID0gMTAwCiAgICAgIHRoaXMuJHYuJHJlc2V0KCkKICAgICAgdGhpcy4kbWVzc2FnZSgi0JrQsNGC0LXQs9C+0YDQuNGPINCx0YvQu9CwINGB0L7Qt9C00LDQvdCwIikKICAgICAgdGhpcy4kZW1pdCgnY3JlYXRlZCcsIGNhdGVnb3J5KQogICAgICB9IGNhdGNoIChlKSB7fQogICAgfQogIH0KfQo="},{"version":3,"sources":["CategoryCreate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CategoryCreate.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"col s12 m6\">\n    <div>\n      <div class=\"page-subtitle\">\n        <h4>Создать</h4>\n      </div>\n\n      <form @submit.prevent=\"submitHandler\">\n        <div class=\"input-field\">\n          <input\n              id=\"name\"\n              type=\"text\"\n              v-model=\"title\"\n              :class=\"{invalid: $v.title.$dirty && !$v.title.required}\"\n          >\n          <label for=\"name\">Название</label>\n          <span \n            class=\"helper-text invalid\"\n            v-if=\"$v.title.$dirty && !$v.title.required\"\n\n          >\n            Введите название категории\n          </span>\n        </div>\n\n        <div class=\"input-field\">\n          <input\n              id=\"limit\"\n              type=\"number\"\n              v-model.number=\"limit\"\n              :class=\"{invalid: $v.limit.$dirty && !$v.limit.minValue}\"\n          >\n          <label for=\"limit\">Лимит</label>\n          <span \n            class=\"helper-text invalid\"\n            v-if=\"$v.limit.$dirty && !$v.limit.minValue\"\n          >\n            Минимальная значение {{$v.limit.$params.minValue.min}}\n          </span>\n        </div>\n\n        <button class=\"btn waves-effect waves-light\" type=\"submit\">\n          Создать\n          <i class=\"material-icons right\">send</i>\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {required, minValue} from 'vuelidate/lib/validators'\n\nexport default {\n  data: () => ({\n    title: '',\n    limit: 100\n  }),\n  validations: {\n    title: {required},\n    limit: {minValue: minValue(100)}\n  },\n  mounted() {\n    M.updateTextFields()\n  },\n  methods: {\n    async submitHandler() {\n      if(this.$v.$invalid) {\n        this.$v.$touch()\n        return\n      }\n\n      try {\n      const category = await this.$store.dispatch('createCategory', {\n        title: this.title,\n        limit: this.limit        \n      })\n      this.title = ''\n      this.limit = 100\n      this.$v.$reset()\n      this.$message(\"Категория была создана\")\n      this.$emit('created', category)\n      } catch (e) {}\n    }\n  }\n}\n</script>\n"]}]}